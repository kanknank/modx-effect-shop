/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/frontend/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./src/frontend/components/live-search.vue?vue&type=script&lang=js&":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib??ref--2!./node_modules/vue-loader/lib??vue-loader-options!./src/frontend/components/live-search.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar DEV = !!(\"development\" === 'development');\nvar params = new URLSearchParams(location.search.slice(1));\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      products: [],\n      categories: [],\n      value: params.get('search') || '',\n      show: false,\n      timer: null,\n      loading: false,\n      nothing: false,\n      typed: false // печаталось ли что-то\n\n    };\n  },\n  inheritAttrs: false,\n  props: {},\n  methods: {\n    focus: function focus() {\n      this.show = !!(this.value.length > 2 && this.typed);\n    },\n    request: function request(query) {\n      var _this = this;\n\n      // Без encodeURIComponent проблема с плюсом в поиске\n      this.$shop.http('catalog', 'liveSearch', {\n        query: encodeURIComponent(query)\n      }).then(function (resp) {\n        DEV && console.log(resp);\n        var rows = resp.rows || [];\n        _this.show = true;\n        _this.nothing = !rows.length;\n        _this.loading = false;\n        _this.products = rows.filter(function (v) {\n          return v.type == 'product';\n        });\n        _this.categories = rows.filter(function (v) {\n          return v.type == 'category';\n        });\n      });\n    },\n    documentClick: function documentClick(e) {\n      var el = this.$refs.wrapper,\n          target = e.target;\n\n      if (el !== target && !el.contains(target)) {\n        this.show = false;\n      }\n    }\n  },\n  watch: {\n    value: function value(val) {\n      this.typed = true;\n\n      if (!val || val.length <= 2) {\n        this.show = false;\n        return;\n      }\n\n      ;\n      this.loading = true;\n      this.timer && clearTimeout(this.timer);\n      this.timer = setTimeout(this.request, 500, val);\n    }\n  },\n  created: function created() {\n    document.addEventListener('click', this.documentClick);\n  },\n  destroyed: function destroyed() {\n    document.removeEventListener('click', this.documentClick);\n  }\n});\n\n//# sourceURL=webpack:///./src/frontend/components/live-search.vue?./node_modules/babel-loader/lib??ref--2!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "./node_modules/js-cookie/src/js.cookie.js":
/*!*************************************************!*\
  !*** ./node_modules/js-cookie/src/js.cookie.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (true) {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n//# sourceURL=webpack:///./node_modules/js-cookie/src/js.cookie.js?");

/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./src/frontend/components/live-search.vue?vue&type=template&id=ed815cf8&":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./src/frontend/components/live-search.vue?vue&type=template&id=ed815cf8& ***!
  \**************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      ref: \"wrapper\",\n      staticClass: \"search\",\n      class: { \"is-loading\": _vm.loading, \"is-expanded\": _vm.show }\n    },\n    [\n      _c(\"div\", { staticClass: \"search-field field\" }, [\n        _c(\n          \"input\",\n          _vm._b(\n            {\n              directives: [\n                {\n                  name: \"model\",\n                  rawName: \"v-model.trim\",\n                  value: _vm.value,\n                  expression: \"value\",\n                  modifiers: { trim: true }\n                }\n              ],\n              staticClass: \"search-input input\",\n              attrs: { type: \"search\", autocomplete: \"off\" },\n              domProps: { value: _vm.value },\n              on: {\n                focus: function($event) {\n                  return _vm.focus()\n                },\n                input: function($event) {\n                  if ($event.target.composing) {\n                    return\n                  }\n                  _vm.value = $event.target.value.trim()\n                },\n                blur: function($event) {\n                  return _vm.$forceUpdate()\n                }\n              }\n            },\n            \"input\",\n            _vm.$attrs,\n            false\n          )\n        ),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"field-icon\" })\n      ]),\n      _vm._v(\" \"),\n      _vm.show\n        ? _c(\n            \"div\",\n            { staticClass: \"search-lists\" },\n            [\n              _vm.products.length\n                ? [\n                    _c(\"div\", { staticClass: \"search-list-title\" }, [\n                      _vm._v(\"Товары\")\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\n                      \"ul\",\n                      { staticClass: \"search-list\" },\n                      _vm._l(_vm.products, function(row) {\n                        return _c(\"li\", { staticClass: \"search-item\" }, [\n                          _c(\n                            \"a\",\n                            {\n                              staticClass: \"search-item-link\",\n                              attrs: { href: row.uri }\n                            },\n                            [\n                              _vm._v(\n                                \"\\n\\t\\t\\t\\t\\t\\t\" +\n                                  _vm._s(row.name) +\n                                  \"\\n\\t\\t\\t\\t\\t\"\n                              )\n                            ]\n                          )\n                        ])\n                      }),\n                      0\n                    )\n                  ]\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm.categories.length\n                ? [\n                    _c(\"div\", { staticClass: \"search-list-title\" }, [\n                      _vm._v(\"Категории\")\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\n                      \"ul\",\n                      { staticClass: \"search-list\" },\n                      _vm._l(_vm.categories, function(row) {\n                        return _c(\"li\", { staticClass: \"search-item\" }, [\n                          _c(\n                            \"a\",\n                            {\n                              staticClass: \"search-item-link\",\n                              attrs: { href: row.uri }\n                            },\n                            [\n                              _vm._v(\n                                \"\\n\\t\\t\\t\\t\\t\\t\" +\n                                  _vm._s(row.name) +\n                                  \"\\n\\t\\t\\t\\t\\t\"\n                              )\n                            ]\n                          )\n                        ])\n                      }),\n                      0\n                    )\n                  ]\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm.nothing\n                ? _c(\"div\", { staticClass: \"search-empty\" }, [\n                    _vm._v(\"Ничего не найдено\")\n                  ])\n                : _vm._e()\n            ],\n            2\n          )\n        : _vm._e()\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=webpack:///./src/frontend/components/live-search.vue?./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options");

/***/ }),

/***/ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js":
/*!********************************************************************!*\
  !*** ./node_modules/vue-loader/lib/runtime/componentNormalizer.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return normalizeComponent; });\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nfunction normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n//# sourceURL=webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js?");

/***/ }),

/***/ "./src/frontend/cabinet.js":
/*!*********************************!*\
  !*** ./src/frontend/cabinet.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var el = document.querySelector('.vue-shop-cabinet');\nvar DEV = !!(\"development\" === 'development');\nvar hash = window.location.hash.split('/');\nel && new Vue({\n  el: el,\n  delimiters: ['(#', '#)'],\n  data: {\n    user: {},\n    tab: hash[1] || false,\n    orderId: hash[2] || 0,\n    orders: []\n    /*profile: {\n    \terrors: {},\n    \tform: {},\n    \tloading: false,\n    \tsuccess: false,\n    },\n    \tpassword: {\n    \terrors: {},\n    \tform: { newpassword: 1 },\n    \tloading: false,\n    \tsuccess: false,\n    }*/\n\n  },\n  methods: {\n    /*update(type = 'profile') {\n    \tif (!['profile', 'password'].includes(type)) return;\n    \t\tthis[type].loading = true;\n    \tthis[type].success = false;\n    \tthis[type].errors = {};\n    \tthis.$shop.http('user', 'update', this[type].form)\n    \t\t.then((resp) => {\n    \t\t\tthis[type].errors = resp.errors || {};\n    \t\t\tthis[type].loading = false;\n    \t\t\tthis[type].success = !!resp[0];\n    \t\t\tif (this[type].success && type == 'password') {\n    \t\t\t\tthis[type].specifiedpassword = '';\n    \t\t\t\tthis[type].confirmpassword = '';\n    \t\t\t}\n    \t\t\tDEV && console.log(resp);\n    \t\t})\n    },*/\n    cancelOrder: function cancelOrder() {\n      var _this = this;\n\n      if (confirm('Отменить заказ?')) {\n        var data = {\n          id: this.order.id,\n          status: 'canceled',\n          comment: 'Отменён пользователем'\n        };\n        this.$shop.http('order', 'changeStatus', data).then(function (resp) {\n          _this.$shop.http('order', 'getMyOrders').then(function (resp) {\n            _this.orders = resp.rows || [];\n            DEV && console.log(resp);\n          });\n        });\n      }\n    }\n  },\n  computed: {\n    order: function order() {\n      var _this2 = this;\n\n      if (+this.orderId && this.orders.length) {\n        window.location.hash = \"/orders/\".concat(this.orderId);\n        return this.orders.find(function (i) {\n          return i.id == _this2.orderId;\n        }) || {};\n      }\n\n      return {};\n    }\n  },\n  created: function created() {\n    var _this3 = this;\n\n    /*this.$shop.$on('load', (data) => {\n    \tif (data.user) {\n    \t\tthis.user = data.user;\n    \t\tthis.profile.form = data.user;\n    \t} \n    });*/\n    this.$shop.http('order', 'getMyOrders').then(function (resp) {\n      _this3.orders = resp.rows || [];\n      DEV && console.log(resp);\n    });\n\n    window.onhashchange = function () {\n      hash = window.location.hash.split('/');\n      _this3.tab = hash[1] || 'orders';\n\n      if (hash[1] == 'orders' && +hash[2]) {\n        _this3.orderId = +hash[2];\n      } else {\n        _this3.orderId = 0;\n      }\n    };\n\n    if (!this.tab) {\n      this.tab = 'orders';\n      window.location.hash = \"/orders\";\n    }\n  }\n});\n\n//# sourceURL=webpack:///./src/frontend/cabinet.js?");

/***/ }),

/***/ "./src/frontend/cart-mixin.js":
/*!************************************!*\
  !*** ./src/frontend/cart-mixin.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar DEV = !!(\"development\" === 'development');\nvar data = {\n  status: 'loading',\n  cart: {\n    qty: 0,\n    items: {}\n  },\n  methods: {},\n  form: {},\n  lastOrder: {},\n  loading: {\n    cart: true,\n    form: false\n  },\n  error: '',\n  favoritesCount: 0,\n  compareCount: 0\n};\nvar mixin = {\n  data: data,\n  delimiters: ['(#', '#)'],\n  methods: {\n    request: function request(action) {\n      var _this = this;\n\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var callback = arguments.length > 2 ? arguments[2] : undefined;\n      this.loading.cart = true;\n      this.$shop.http('cart', action, data).then(function (response) {\n        response[0] != 1 && alert('Ошибка: корзина не загружена.');\n        _this.cart = response.cart;\n        if (callback) callback();\n        _this.loading.cart = false;\n        _this.status = _this.cart.qty ? 'default' : 'empty';\n        var event = new CustomEvent('shop-cart-request', {\n          detail: {\n            action: action,\n            data: data,\n            response: response\n          }\n        });\n        document.dispatchEvent(event);\n        DEV && console.log(action, data, response);\n      });\n    },\n    remove: function remove(index) {\n      if (confirm('Удалить товар из корзины?')) {\n        this.request('remove', {\n          index: index\n        });\n      }\n    },\n    qty: function qty(index, plus) {\n      var qty = +this.cart.items[index].qty + plus;\n      if (qty < 0) return;\n\n      if (qty === 0) {\n        this.remove(index);\n        return;\n      }\n\n      this.cart.items[index].qty = qty;\n      this.request('qty', {\n        index: index,\n        qty: qty\n      });\n    },\n    setValue: function setValue(key, val) {\n      this.request('setValue', {\n        key: key,\n        val: val\n      });\n      DEV && console.log(key, val);\n    },\n    addonQty: function addonQty(index, addon, plus) {\n      var a = this.cart.items[index].addons[addon];\n      var qty = +a.qty + plus;\n      if (qty < 0) return;\n      a.qty = qty;\n      this.request('addonQty', {\n        index: index,\n        addon: addon,\n        qty: qty\n      });\n    },\n    clean: function clean() {\n      confirm('Очистить корзину?') && this.request('clean');\n    },\n    indexById: function indexById(id) {\n      var i = -1;\n\n      if (this.cart.items) {\n        i = this.cart.items.findIndex(function (a) {\n          return a.id == id;\n        });\n      }\n\n      return i;\n    },\n    sendForm: function sendForm() {\n      var _this2 = this;\n\n      this.loading.form = true;\n      this.formError = '';\n      this.$shop.http('order', 'sendForm', this.form).then(function (data) {\n        DEV && console.log(data);\n\n        if (data[0]) {\n          _this2.status = 'success';\n          _this2.cart = {\n            items: {},\n            qty: 0\n          };\n          _this2.form.comment = _this2.form.message = '';\n          _this2.lastOrder = data[1];\n          window.scrollTo({\n            top: 0\n          });\n          var event = new CustomEvent('shop-cart-order', {\n            detail: {\n              order: _this2.lastOrder\n            }\n          });\n          document.dispatchEvent(event);\n        } else {\n          _this2.error = data || 'Ошибка';\n        }\n\n        _this2.loading.form = false;\n      });\n    },\n    getProductForm: function getProductForm(el) {\n      var out = {};\n      var form = el.tagName == 'FORM' ? el : el.closest('form');\n      if (!form) return false;\n      out.form = form;\n      out.button = form.querySelector('.shop-item-button');\n      out.id_el = form.querySelector('[name=id]');\n      out.qty_el = form.querySelector('[name=qty]');\n      out.opt_els = form.querySelectorAll('[name^=opt-]') || [];\n      out.addon_qty_els = form.querySelectorAll('[name^=addon-qty-]');\n      out.addon_els = form.querySelectorAll('[name=addon]');\n      out.prices_plus_els = form.querySelectorAll('[data-price-plus]');\n      out.variation_el = form.querySelector('[name=variation]:checked'); // вариативный, радиокнопки\n\n      out.price_el = form.querySelector('[data-price]');\n      out.id = +out.id_el.value;\n      out.qty = out.qty_el ? +out.qty_el.value : 1;\n      out.params = {\n        opts: {},\n        addons: {}\n      };\n\n      if (out.variation_el) {\n        out.params.variation = out.variation_el.value || 0;\n      }\n\n      out.addon_els.forEach(function (el) {\n        if (!isNaN(parseInt(el.value))) {\n          if (el.type && ['checkbox', 'radio'].includes(el.type) && el.checked) {\n            out.params.addons[+el.value] = 1;\n          }\n        }\n      });\n      out.addon_qty_els.forEach(function (el) {\n        var name = el.name.split('-');\n        out.params.addons[name[2]] = +el.value;\n      });\n      out.opt_els.forEach(function (opt) {\n        if (opt.value) out.params.opts[opt.name] = opt.value;\n      });\n      return out;\n    }\n  },\n  computed: {\n    plural: function plural() {\n      var n = this.cart.qty,\n          cases = [2, 0, 1, 1, 1, 2],\n          words = ['товар', 'товара', 'товаров'];\n      return words[n % 100 > 4 && n % 100 < 20 ? 2 : cases[n % 10 < 5 ? n % 10 : 5]];\n    },\n    cartClasses: function cartClasses() {\n      return [{\n        'is-loaded': this.status != 'loading'\n      }, {\n        'is-loading': this.loading.cart\n      }, {\n        'is-empty': !this.cart.qty\n      }, {\n        'not-empty': !!this.cart.qty\n      }];\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (mixin);\n\n//# sourceURL=webpack:///./src/frontend/cart-mixin.js?");

/***/ }),

/***/ "./src/frontend/cart.js":
/*!******************************!*\
  !*** ./src/frontend/cart.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _cart_mixin_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cart-mixin.js */ \"./src/frontend/cart-mixin.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar DEV = !!(\"development\" === 'development');\nvar appNodes = document.querySelectorAll('.vue-shop-cart') || [];\n\nvar ShopCartApp = new Vue({\n  mixins: [_cart_mixin_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]],\n  created: function created() {\n    var _this = this;\n\n    if (localStorage.getItem('shop_order_form')) {\n      try {\n        this.form = JSON.parse(localStorage.getItem('shop_order_form'));\n      } catch (e) {\n        localStorage.removeItem('shop_order_form');\n      }\n    }\n\n    this.$shop.$on('load', function (data) {\n      _this.cart = data.cart;\n      _this.methods = data.methods;\n      _this.status = _this.cart.qty ? 'default' : 'empty';\n      _this.loading.cart = false;\n      DEV && console.log('Корзина', data);\n\n      if (data.user) {\n        for (var field in data.user) {\n          if (data.user[field] && _typeof(data.user[field]) !== 'object') {\n            _this.form[field] = data.user[field];\n          }\n        }\n      }\n\n      var event = new CustomEvent('shop-cart-load', {\n        detail: {\n          response: data\n        }\n      });\n      document.dispatchEvent(event);\n    });\n    this.favoritesCount = savedProductsFromCookie('favorites').length;\n    this.compareCount = savedProductsFromCookie('compare').length;\n  },\n  watch: {\n    form: {\n      handler: function handler() {\n        var o = Object.assign({}, this.form);\n        o.delivery && delete o.delivery;\n        o.payment && delete o.payment;\n        localStorage.setItem('shop_order_form', JSON.stringify(o));\n      },\n      deep: true\n    }\n  }\n});\nwindow.ShopCartApp = ShopCartApp;\nappNodes.forEach(function (el) {\n  new Vue({\n    el: el,\n    mixins: [_cart_mixin_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]]\n  });\n});\n/**\n * Добавление в корзину\n */\n\ndocument.addEventListener('submit', function (e) {\n  if (!e.target.matches('.shop-item form')) return;\n  e.preventDefault();\n  var f = ShopCartApp.getProductForm(e.target);\n  /*f.form.classList.remove(\"is-error\");\n  if (Object.values(f.params.opts).length !== f.opt_els.length) {\n      f.form.classList.add(\"is-error\");\n      console.log('не выбраны опции');\n      return;\n  }*/\n\n  f.button && f.button.classList.add(\"is-loading\");\n  ShopCartApp.request('add', {\n    id: f.id,\n    qty: f.qty,\n    params: f.params\n  }, function () {\n    f.button && f.button.classList.remove(\"is-loading\");\n    f.button && f.button.classList.add(\"is-added\");\n    f.form.classList.add(\"is-added\");\n    /*f.form.reset();\n    f.form.dispatchEvent(new Event(\"change\"));*/\n  });\n}, false);\n/**\n * Считаем цену\n */\n\nfunction numFormat(val) {\n  if (!val) return 0;\n  val = parseFloat(val).toFixed(0);\n  val = String(val).replace(/(\\d)(?=(\\d{3})+([^\\d]|$))/g, \"$1\\xA0\");\n  return val;\n}\n\ndocument.addEventListener('change', function (e) {\n  var form = e.target.closest('.shop-item form');\n  if (!form) return;\n  var f = ShopCartApp.getProductForm(e.target);\n  if (!f.price_el) return;\n  var price = +f.price_el.dataset.price;\n\n  if (f.variation_el) {\n    var varPrice = +f.variation_el.dataset.variationPrice || 0;\n\n    if (varPrice) {\n      price = varPrice;\n    }\n  }\n  /** если меняется кол-во подтоваров */\n\n\n  f.addon_qty_els && f.addon_qty_els.forEach(function (el) {\n    if (el.dataset.addonPrice) {\n      price += +el.value * +el.dataset.addonPrice;\n    }\n  });\n  /** если подтовары чекбоксами или радиокнопками */\n\n  f.prices_plus_els && f.prices_plus_els.forEach(function (el) {\n    if (el.type && ['checkbox', 'radio'].includes(el.type) && el.checked) {\n      price += +el.dataset.pricePlus;\n    }\n  });\n  price *= f.qty;\n  f.price_el.innerHTML = numFormat(price);\n  DEV && console.log(price);\n}, true);\n/**\n * Кнопки плюс-минус\n */\n\ndocument.addEventListener('click', function (e) {\n  var btn = e.target.closest('.shop-item-plus, .shop-item-minus');\n  if (!btn) return;\n  e.preventDefault();\n  var input = e.target.parentNode.querySelector('[name*=qty]'),\n      x = btn.classList.contains('shop-item-minus') ? -1 : 1,\n      val = (parseInt(input.value) || 0) + x;\n  var min = input.hasAttribute('min') ? +input.min : 1,\n      max = input.hasAttribute('max') ? +input.max : 999;\n\n  if (val < max + 1 && val > min - 1) {\n    input.value = val;\n    input.dispatchEvent(new Event(\"change\"));\n  }\n});\ndocument.addEventListener('blur', function (e) {\n  if (!e.target.matches('.shop-item [name*=qty]')) return;\n  var min = e.target.hasAttribute('min') ? +e.target.min : 1,\n      max = e.target.hasAttribute('max') ? +e.target.max : 999;\n  if (!parseInt(e.target.value)) e.target.value = min;\n  if (e.target.value > max) e.target.value = max;\n  if (e.target.value < min) e.target.value = min;\n  e.target.dispatchEvent(new Event(\"change\"));\n}, true);\n/**\n * добавить в избранное или к сравнению\n */\n\ndocument.addEventListener('click', function (e) {\n  var btn = e.target.closest('.shop-item-to-favorites');\n  if (!btn) return;\n  e.preventDefault();\n  var name = 'favorites';\n  var productEl = e.target.closest('.shop-item'),\n      idEl = productEl.querySelector('[name=id]'),\n      id = idEl.value,\n      catalogDataEl = document.querySelector('.shop-catalog-data'),\n      pageType = catalogDataEl ? catalogDataEl.dataset.pageType : '';\n  var ids = savedProductsFromCookie(name),\n      index = ids.indexOf(id);\n\n  if (index > -1) {\n    ids.splice(index, 1);\n    btn.classList.remove('is-active');\n    if (pageType == name) productEl.remove();\n    DEV && console.log(\"\".concat(id, \" \\u0443\\u0434\\u0430\\u043B\\u0451\\u043D \\u0438\\u0437 \").concat(name));\n  } else {\n    ids.push(id);\n    btn.classList.add('is-active');\n    DEV && console.log(\"\".concat(id, \" \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D \\u0432 \").concat(name));\n  }\n\n  ShopCartApp[name + 'Count'] = ids.length;\n  Cookies.set('shop_' + name, ids);\n});\n\nfunction savedProductsFromCookie(name) {\n  var ids = Cookies.get('shop_' + name) || {};\n\n  try {\n    ids = JSON.parse(ids);\n  } catch (e) {\n    ids = [];\n  }\n\n  if (!Array.isArray(ids)) ids = [];\n  return ids;\n}\n\n//# sourceURL=webpack:///./src/frontend/cart.js?");

/***/ }),

/***/ "./src/frontend/catalog.js":
/*!*********************************!*\
  !*** ./src/frontend/catalog.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var DEV = !!(\"development\" === 'development'),\n    appNodes = document.querySelectorAll('.shop-catalog-app, .vue-shop-catalog') || [],\n    catalogEl = document.querySelector('.shop-catalog-items'),\n    dataEl = document.querySelector('.shop-catalog-data'),\n    filtersDataEl = document.querySelector('[data-shop-filters]'),\n    params = new URLSearchParams(location.search.slice(1));\n\nif (appNodes.length) {\n  var filtersData = {};\n\n  if (filtersDataEl) {\n    filtersData = filtersDataEl.dataset.shopFilters;\n    filtersData = JSON.parse(filtersData);\n  }\n\n  var filters = filtersData.filters || {},\n      filtersList = filtersData.list || [],\n      filterForm = {},\n      filterQuery = {};\n\n  for (var f in filtersList) {\n    filterForm[filtersList[f]] = [];\n  }\n\n  DEV && console.log('Фильтры', filtersData);\n  params.forEach(function (val, key) {\n    if (key.includes('filter_')) {\n      val = val.split(',');\n      filterQuery[key] = val;\n      filterForm[key.replace('filter_', '')] = val;\n    }\n\n    if (key.includes('min_')) {\n      filterQuery[key] = val;\n      key = key.replace('min_', '');\n      if (filterForm[key]) filterForm[key][0] = val;\n    }\n\n    if (key.includes('max_')) {\n      filterQuery[key] = val;\n      key = key.replace('max_', '');\n      if (filterForm[key]) filterForm[key][1] = val;\n    }\n  });\n  var total, limit;\n\n  if (catalogEl) {\n    total = dataEl.dataset.total || 0;\n    limit = dataEl.dataset.limit || 1;\n  }\n\n  var data = {\n    total: total,\n    limit: limit,\n    filters: filters,\n    //Значения фильтров\n    filtersList: filtersList,\n    //Список фильтров\n    filterForm: Object.assign({}, filterForm),\n    //Поля для v-model\n    filterQuery: filterQuery,\n    //Поля для запросов\n    isFiltered: !!Object.entries(filterQuery).length,\n    filterSection: '',\n    filterVisible: false,\n    page: +params.get('page') || 1,\n    view: Cookies.get('shop_view') || 'grid',\n    sort: Cookies.get('shop_sort') || ''\n  };\n  var methods = {\n    request: function request(resetPage) {\n      var _this = this;\n\n      var showMore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      this.isFiltered = !!Object.entries(this.filterQuery).length;\n      catalogEl.classList.add('is-loading');\n      if (resetPage) this.page = 1;\n      var data = {\n        filter: Object.assign({}, this.filterQuery)\n      };\n      if (this.page > 1) data.filter.page = this.page;\n\n      if (params.get('search')) {\n        if (params.get('search')) data.filter.search = params.get('search');\n      } else {\n        data.filter.sort = this.sort;\n      }\n\n      var queryString = new URLSearchParams(data.filter);\n      history.pushState(null, null, window.location.pathname + '?' + queryString);\n      this.$shop.http('catalogSnippet', 'renderCatalog', data).then(function (resp) {\n        DEV && console.log(resp);\n        var newDiv = document.createElement(\"div\");\n        newDiv.innerHTML = resp.html;\n        var itemsNode = newDiv.querySelector('.shop-catalog-items');\n        if (!showMore) catalogEl.innerHTML = \"\";\n        catalogEl.insertAdjacentHTML('beforeend', itemsNode.innerHTML);\n        _this.total = resp.total;\n        catalogEl.classList.remove('is-loading');\n        var event = new CustomEvent('shop-catalog-update', {\n          detail: {\n            el: catalogEl\n          }\n        });\n        document.dispatchEvent(event);\n      });\n    },\n    filter: function filter(name) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'checkboxes';\n\n      if (type == 'range') {\n        this.filterQuery['min_' + name] = this.filterForm[name][0];\n        this.filterQuery['max_' + name] = this.filterForm[name][1];\n      } else {\n        if (this.filterForm[name].length) {\n          this.filterQuery['filter_' + name] = this.filterForm[name];\n        } else {\n          delete this.filterQuery['filter_' + name];\n        }\n      }\n\n      this.request(true);\n    },\n    sorting: function sorting() {\n      this.request(true);\n      Cookies.set('shop_sort', this.sort);\n    },\n    pagination: function pagination(page) {\n      this.request();\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n      this.filterVisible = false;\n    },\n    showMore: function showMore() {\n      if (this.page >= this.pages) return;\n      this.page++;\n      this.request(false, true);\n    },\n    reset: function reset() {\n      //this.isFiltered = false;\n      for (var _f in this.filterForm) {\n        this.filterForm[_f] = [];\n      }\n\n      this.filterQuery = {};\n      this.request(true);\n      this.filterVisible = false;\n    }\n  };\n  var computed = {\n    pages: function pages() {\n      return Math.ceil(this.total / this.limit);\n    }\n  };\n\n  if (appNodes.length) {\n    var ShopCatalogApp = new Vue({\n      data: data,\n      methods: methods,\n      watch: {\n        view: function view(v) {\n          var cl = catalogEl.classList;\n          var classes = catalogEl.className.split(' ');\n          classes.forEach(function (i) {\n            return i.includes('has-view-') && cl.remove(i);\n          });\n          cl.add(\"has-view-\".concat(v));\n          Cookies.set('shop_view', v);\n        }\n      }\n    });\n  }\n\n  appNodes.forEach(function (el) {\n    new Vue({\n      el: el,\n      data: data,\n      methods: methods,\n      computed: computed,\n      delimiters: ['(#', '#)']\n    });\n  });\n}\n\n//# sourceURL=webpack:///./src/frontend/catalog.js?");

/***/ }),

/***/ "./src/frontend/components/live-search.vue":
/*!*************************************************!*\
  !*** ./src/frontend/components/live-search.vue ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _live_search_vue_vue_type_template_id_ed815cf8___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./live-search.vue?vue&type=template&id=ed815cf8& */ \"./src/frontend/components/live-search.vue?vue&type=template&id=ed815cf8&\");\n/* harmony import */ var _live_search_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./live-search.vue?vue&type=script&lang=js& */ \"./src/frontend/components/live-search.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport *//* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ \"./node_modules/vue-loader/lib/runtime/componentNormalizer.js\");\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n  _live_search_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  _live_search_vue_vue_type_template_id_ed815cf8___WEBPACK_IMPORTED_MODULE_0__[\"render\"],\n  _live_search_vue_vue_type_template_id_ed815cf8___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"src/frontend/components/live-search.vue\"\n/* harmony default export */ __webpack_exports__[\"default\"] = (component.exports);\n\n//# sourceURL=webpack:///./src/frontend/components/live-search.vue?");

/***/ }),

/***/ "./src/frontend/components/live-search.vue?vue&type=script&lang=js&":
/*!**************************************************************************!*\
  !*** ./src/frontend/components/live-search.vue?vue&type=script&lang=js& ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_babel_loader_lib_index_js_ref_2_node_modules_vue_loader_lib_index_js_vue_loader_options_live_search_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/babel-loader/lib??ref--2!../../../node_modules/vue-loader/lib??vue-loader-options!./live-search.vue?vue&type=script&lang=js& */ \"./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./src/frontend/components/live-search.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__[\"default\"] = (_node_modules_babel_loader_lib_index_js_ref_2_node_modules_vue_loader_lib_index_js_vue_loader_options_live_search_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[\"default\"]); \n\n//# sourceURL=webpack:///./src/frontend/components/live-search.vue?");

/***/ }),

/***/ "./src/frontend/components/live-search.vue?vue&type=template&id=ed815cf8&":
/*!********************************************************************************!*\
  !*** ./src/frontend/components/live-search.vue?vue&type=template&id=ed815cf8& ***!
  \********************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_live_search_vue_vue_type_template_id_ed815cf8___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib??vue-loader-options!./live-search.vue?vue&type=template&id=ed815cf8& */ \"./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./src/frontend/components/live-search.vue?vue&type=template&id=ed815cf8&\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_live_search_vue_vue_type_template_id_ed815cf8___WEBPACK_IMPORTED_MODULE_0__[\"render\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_live_search_vue_vue_type_template_id_ed815cf8___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"]; });\n\n\n\n//# sourceURL=webpack:///./src/frontend/components/live-search.vue?");

/***/ }),

/***/ "./src/frontend/index.js":
/*!*******************************!*\
  !*** ./src/frontend/index.js ***!
  \*******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./src/frontend/main.js\");\n/* harmony import */ var _cart_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cart.js */ \"./src/frontend/cart.js\");\n/* harmony import */ var _catalog_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./catalog.js */ \"./src/frontend/catalog.js\");\n/* harmony import */ var _catalog_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_catalog_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _cabinet_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cabinet.js */ \"./src/frontend/cabinet.js\");\n/* harmony import */ var _cabinet_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_cabinet_js__WEBPACK_IMPORTED_MODULE_3__);\n\n\n //import './auth.js';\n\n\n\n//# sourceURL=webpack:///./src/frontend/index.js?");

/***/ }),

/***/ "./src/frontend/main.js":
/*!******************************!*\
  !*** ./src/frontend/main.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js-cookie */ \"./node_modules/js-cookie/src/js.cookie.js\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_live_search_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/live-search.vue */ \"./src/frontend/components/live-search.vue\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\nwindow.Cookies = js_cookie__WEBPACK_IMPORTED_MODULE_0___default.a;\nwindow.Shop = window.Shop || {};\nVue.mixin({\n  filters: {\n    numFormat: function numFormat(val) {\n      if (!val) return 0;\n      val = parseFloat(val).toFixed(0);\n      val = String(val).replace(/(\\d)(?=(\\d{3})+([^\\d]|$))/g, \"$1\\xA0\");\n      return val;\n    }\n  }\n});\nVue.prototype.$shop = new Vue({\n  data: {\n    url: '/assets/components/effectshop/connector.php',\n    //resource: window.resource || {},\n    delimiters: ['(#', '#)'],\n    pathname: window.location.pathname\n  },\n  methods: {\n    toFormData: function toFormData(obj, form, namespace) {\n      var fd = form || new FormData();\n      var formKey;\n\n      for (var property in obj) {\n        if (obj.hasOwnProperty(property) && obj[property] !== 'undefined') {\n          formKey = namespace ? namespace + '[' + property + ']' : property; // Пустой массив\n\n          if (Array.isArray(obj[property]) && !obj[property].length) {\n            fd.append(formKey, obj[property]);\n          }\n\n          if (_typeof(obj[property]) === 'object' && !(obj[property] instanceof File)) {\n            this.toFormData(obj[property], fd, formKey);\n          } else {\n            // if it's a string or a File object\n            fd.append(formKey, obj[property]);\n          }\n        }\n      }\n\n      return fd;\n    },\n    http: function http(to, action) {\n      var _this = this;\n\n      var body = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var formData = this.toFormData(body); //formData.append('ctx', this.resource.ctx || 'web');\n\n      return new Promise(function (resolve, reject) {\n        fetch(_this.url + \"?to=\".concat(to, \"&action=\").concat(action), {\n          method: 'post',\n          body: formData\n        }).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          resolve(data);\n        })[\"catch\"](function (e) {\n          console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(e)); // alert(`Ошибка: ${e}`);\n        });\n      });\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.http('shop', 'load').then(function (data) {\n      data[0] == 1 ? _this2.$emit('load', data) : alert('Ошибка загрузки корзины');\n    });\n  }\n});\n/**\n * поиск с подсказками\n */\n\n\nvar searchNodes = document.querySelectorAll('.vue-shop-livesearch') || [];\nsearchNodes.forEach(function (el) {\n  new Vue({\n    el: el,\n    data: {},\n    components: {\n      ShopLiveSearch: _components_live_search_vue__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n    },\n    delimiters: ['(#', '#)']\n  });\n});\n\n//# sourceURL=webpack:///./src/frontend/main.js?");

/***/ })

/******/ });